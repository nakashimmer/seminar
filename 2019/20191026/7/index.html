<!DOCTYPE html>
<html>
	<head>
		<!-- Google Analytics --><script src="/showcase/ga.js"></script>
		<meta charset="utf-8">
		<title>音声のAPI</title>
		<meta name=viewport content="width=device-width">
		<link rel="stylesheet" href="../index/iframe.css">
		<style>

			button,select{
				font-size:24px;
				border-radius:5px;
				height:2em;
				border:1px solid gray;
				background-color:#eee;
				padding:0 0.5em;
				margin:0 0.5em;
				text-align: center;
				color:black;
				width:200px;
				vertical-align:5px;
			}

			#input{
				font-size:24px;
				width:100%;
				color:black;
			}

			section{
				border:1px solid gray;
				margin:1em;
			}
			option{width:100px;}
			p{margin:1em;}


		</style>
	</head>

	<body>
		<h1>音声操作-<mark>Web Speech API</mark></h1>
		<div id="wrap">
			<section>
				<h2>1. 事前設定</h2>
				<p>音声種類<span id="list"><button onclick="mkList();">選択</button></span>と言語<select id="lang">
						<option value="ja-JP" selected>日本語</option>
						<option value="en-US">アメリカ英語</option>
						<option value="en-GB">イギリス英語</option>
						<option value="zh">中国語</option>
						<option value="ko">韓国語</option>
						<option value="de">ドイツ語</option>
						<option value="fr">フランス語</option>
						<option value="it">イタリア語</option>
						<option value="nl">オランダ語</option>
						<option value="pt">ポルトガル語</option>
						<option value="es">スペイン語</option>
						<option value="pl">ポーランド語</option>
						<option value="el">ギリシャ語</option>
						<option value="ru">ロシア語</option>
						<option value="he">ヘブライ語</option>
						<option value="hi">ヒンディー語</option>
						<option value="ar">アラビア語</option>
						<option value="la">ラテン語</option>
						<option value="sw">スワヒリ語</option>
					</select>を設定
				</p>
			</section>

			<section>
				<h2>2. テキスト読上</h2>
				<p class="sample"><textarea id="input">こんにちは。みなさん。</textarea><br>
					テキストを入力して<button onclick="mySpeech();">読み上げる</button>
				</p>
				
				<details>
					<summary><h2>JavaScript</h2></summary>	
					<pre><code>const VOICES = speechSynthesis.getVoices();
const <mark>CONTEXT</mark> = new SpeechSynthesisUtterance(<mark>INPUT.value</mark>);
CONTEXT.lang = LANG.value;
CONTEXT.voice = VOICES[VOICENO.value];
speechSynthesis.<mark>speak(CONTEXT)</mark>;</code></pre>
				</details>
			</section>

			<section>
				<h2>3. 音声認識</h2>
				<p class="sample"><button onclick="nyuryoku();" id="btn">ボタンを押して</button>マイクから音声を入力</p>
				<details>
					<summary><h2>JavaScript</h2></summary>
					<pre><code>const <mark>RECOGNITION</mark> = new webkitSpeechRecognition();
RECOGNITION.lang = LANG.value;
RECOGNITION.start();
RECOGNITION.addEventListener(<mark>'result'</mark>, (e)=>{
	let msg = <mark>e.results.item(0).item(0).transcript</mark>;
});</code></pre>
				</details>
			</section>
	
		</div>

		<script src="script.js"></script>
	</body>

</html>