<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>位置情報</title>
	<style>
		*{margin:0; padding:0;}
	</style>
</head>
<body>
<main>
	<h1>位置情報</h1> 	<ul>
		<li id=ido>緯度</li>
		<li id=keido>経度</li>
		<li id=kodo>高度</li>
		<li id=hogaku>方角</li>
		<li id=sokudo>速度</li>
	</ul>
</main>

<script src="http://www.google.com/jsapi"></script>
<script>
function $(id){return document.getElementById(id);}

var geolocation;
if(typeof(navigator.geolocation)=='undefined'){
	geolocation=google.gears.factory.create('beta.geolocation');
}else{geolocation=navigator.geolocation;}
var option={enableHighAccuracy:true,timeout:10000,maximumAge:0};

geolocation.getCurrentPosition(seiko,shippai,option);

//成功
function seiko(position){
	$("ido").innerHTML = position.coords.latitude;
	$("keido").innerHTML = position.coords.longitude;
	$("kodo").innerHTML = position.coords.altitude;
	$("hogaku").innerHTML = position.coords.heading;
	$("sokudo").innerHTML = position.coords.speed;
}

//失敗
function shippai(err){alert("失敗"+err.code+err.message);}
</script>
</body>
</html>